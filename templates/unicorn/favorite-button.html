<div>
    {% if user.is_authenticated %}
        <button 
            type="button"
            class="btn btn-sm py-2 d-flex align-items-center justify-content-center {% if is_favorited %}btn-danger{% else %}btn-outline-danger{% endif %}"
            unicorn:click="toggle"
            {% if is_loading %}disabled{% endif %}
            aria-pressed="{{ is_favorited|yesno:'true,false' }}"
            title="{% if is_favorited %}Remove from favorites{% else %}Add to favorites{% endif %}"
            style="width: 100%; min-height: 44px;"
        >
            <i class="bi {% if is_favorited %}bi-heart-fill{% else %}bi-heart{% endif %} me-2"></i>
            <span>{% if is_favorited %}Favorited{% else %}Favorite{% endif %}</span>
            {% if is_loading %}
                <span class="ms-2">
                    <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
                    Loading...
                </span>
            {% endif %}
        </button>
    {% endif %}
</div>
