<div id="content-area">
    <!-- Filter Controls -->
    {% if user.is_authenticated %}
    <div class="row mb-3">
        <div class="col-12">
            <div class="btn-group" role="group" aria-label="Property filters">
                <button type="button" 
                        class="btn {% if not show_favorites and not show_my_properties %}btn-primary{% else %}btn-outline-primary{% endif %}"
                        hx-get="{% url 'properties:list' %}"
                        hx-target="#content-area"
                        hx-swap="outerHTML"
                        hx-indicator="#loading-spinner">
                    All Properties
                </button>
                <button type="button" 
                        class="btn {% if show_favorites %}btn-primary{% else %}btn-outline-primary{% endif %}"
                        hx-get="{% url 'properties:list' %}?favorites=true"
                        hx-target="#content-area"
                        hx-swap="outerHTML"
                        hx-indicator="#loading-spinner">
                    <i class="bi bi-heart-fill"></i> Favorites
                </button>
                <button type="button" 
                        class="btn {% if show_my_properties %}btn-primary{% else %}btn-outline-primary{% endif %}"
                        hx-get="{% url 'properties:list' %}?my_properties=true"
                        hx-target="#content-area"
                        hx-swap="outerHTML"
                        hx-indicator="#loading-spinner">
                    <i class="bi bi-house-fill"></i> My Properties
                </button>
            </div>
        </div>
    </div>
    {% endif %}
    
    <!-- Property Cards -->
    <div class="row">
        {% if properties %}
            {% for property in properties %}
            <div class="col-md-6 col-lg-4 mb-4">
                {% include 'partials/properties/property_card.html' with property=property %}
            </div>
            {% endfor %}
        {% else %}
            <div class="col-12">
                <div class="alert alert-info text-center" role="alert">
                    <h4 class="alert-heading">No Properties Found</h4>
                    {% if show_favorites %}
                        <p>You haven't favorited any properties yet.</p>
                        <a href="{% url 'properties:list' %}" class="btn btn-primary">Browse All Properties</a>
                    {% elif show_my_properties %}
                        <p>You haven't created any properties yet.</p>
                        <a href="{% url 'properties:create' %}" class="btn btn-primary">Create Property</a>
                    {% else %}
                        <p>There are currently no properties available.</p>
                    {% endif %}
                </div>
            </div>
        {% endif %}
    </div>
    
    <!-- Pagination Controls -->
    <div class="row">
        <div class="col-12">
            {% include 'partials/shared/pagination.html' with page_obj=page_obj %}
        </div>
    </div>
    
    <!-- Loading Spinner -->
    <div id="loading-spinner" class="htmx-indicator text-center my-4">
        <div class="spinner-border text-primary" role="status">
            <span class="visually-hidden">Loading...</span>
        </div>
    </div>
</div>
